{"version":3,"sources":["webpack:///./src/components/Generate.vue?6e0a","webpack:///./src/components/Generate.vue?2766","webpack:///src/components/Generate.vue","webpack:///./src/components/Generate.vue?88d3","webpack:///./src/components/Generate.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","generateKey","handleSuccess","ref","desForm","rules","model","value","callback","$$v","$set","expression","saveDes","$event","downloadKey","key","modify","staticRenderFns","showKey","password","getKey","localStorage","getItem","methods","$refs","validate","valid","console","log","setItem","$message","message","type","http","get","then","res","data","code","msg","fileName","window","open","error","privatePem","publicPem","component"],"mappings":"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","file":"js/chunk-49cdeeb4.7ea6445b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Generate.vue?vue&type=style&index=0&id=63bd6d8a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"genarate\"},[_c('h1',[_vm._v(\"生成密钥\")]),_c('div',{staticClass:\"key-option\"},[_c('div',{staticClass:\"generate-key\"},[_c('p',[_vm._v(\"生成一个新的密钥\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.generateKey}},[_vm._v(\"生成密钥\")])],1),_c('div',{staticClass:\"upload-key\"},[_c('p',[_vm._v(\"已有密钥,我要上传\")]),_c('div',{staticClass:\"upload-box\"},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"http://127.0.0.1:8888/api/key/upload/private.pem\",\"multiple\":\"\",\"limit\":99,\"show-file-list\":false,\"on-success\":_vm.handleSuccess}},[_c('el-button',{attrs:{\"icon\":\"el-icon-upload\",\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传私钥\")])],1),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"http://127.0.0.1:8888/api/key/upload/public.pem\",\"multiple\":\"\",\"limit\":99,\"show-file-list\":false,\"on-success\":_vm.handleSuccess}},[_c('el-button',{attrs:{\"icon\":\"el-icon-upload\",\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传公钥\")])],1)],1)])]),_c('hr'),_c('div',{staticClass:\"des-input\"},[_c('p',[_vm._v(\"输入des密码\")]),_c('div',{staticClass:\"form\"},[_c('el-form',{ref:\"desForm\",staticClass:\"desForm\",attrs:{\"model\":_vm.desForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":8,\"show-password\":\"\"},model:{value:(_vm.desForm.password),callback:function ($$v) {_vm.$set(_vm.desForm, \"password\", $$v)},expression:\"desForm.password\"}})],1)],1),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.saveDes}},[_vm._v(\"保存\")])],1)]),(_vm.showKey)?_c('div',{staticClass:\"key-container\"},[_c('div',{staticClass:\"key-item\"},[_c('div',{staticClass:\"key-title\"},[_c('p',[_vm._v(\"公钥\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.downloadKey('public')}}},[_vm._v(\"下载公钥\")])],1),_c('div',{staticClass:\"text-box\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":10,\"placeholder\":\"公钥\"},model:{value:(_vm.key.publicPem),callback:function ($$v) {_vm.$set(_vm.key, \"publicPem\", $$v)},expression:\"key.publicPem\"}})],1),_c('div',{staticClass:\"modify\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit-outline\",\"round\":\"\"},on:{\"click\":function($event){return _vm.modify('public.pem')}}},[_vm._v(\"修改公钥\")])],1)]),_c('div',{staticClass:\"key-item\"},[_c('div',{staticClass:\"key-title\"},[_c('p',[_vm._v(\"私钥\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.downloadKey('private')}}},[_vm._v(\"下载私钥\")])],1),_c('div',{staticClass:\"text-box\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":10,\"placeholder\":\"私钥\"},model:{value:(_vm.key.privatePem),callback:function ($$v) {_vm.$set(_vm.key, \"privatePem\", $$v)},expression:\"key.privatePem\"}})],1),_c('div',{staticClass:\"modify\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit-outline\",\"round\":\"\"},on:{\"click\":function($event){return _vm.modify('private.pem')}}},[_vm._v(\"修改私钥\")])],1)])]):_c('p',{staticClass:\"no-key\"},[_vm._v(\"暂未生成密钥\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"genarate\">\n    <h1>生成密钥</h1>\n    <div class=\"key-option\">\n      <div class=\"generate-key\">\n        <p>生成一个新的密钥</p>\n        <el-button type=\"primary\"\n                   size=\"small\"\n                   @click=\"generateKey\">生成密钥</el-button>\n      </div>\n      <div class=\"upload-key\">\n        <p>已有密钥,我要上传</p>\n        <div class=\"upload-box\">\n          <el-upload class=\"upload-demo\"\n                     action=\"http://127.0.0.1:8888/api/key/upload/private.pem\"\n                     multiple\n                     :limit=\"99\"\n                     :show-file-list=\"false\"\n                     :on-success=\"handleSuccess\">\n            <el-button icon=\"el-icon-upload\"\n                       size=\"small\"\n                       type=\"primary\">上传私钥</el-button>\n          </el-upload>\n          <el-upload class=\"upload-demo\"\n                     action=\"http://127.0.0.1:8888/api/key/upload/public.pem\"\n                     multiple\n                     :limit=\"99\"\n                     :show-file-list=\"false\"\n                     :on-success=\"handleSuccess\">\n            <el-button icon=\"el-icon-upload\"\n                       size=\"small\"\n                       type=\"primary\">上传公钥</el-button>\n          </el-upload>\n        </div>\n      </div>\n    </div>\n\n    <hr />\n    <!-- 输入des密码 -->\n    <div class=\"des-input\">\n      <p>输入des密码</p>\n      <div class=\"form\">\n        <el-form :model=\"desForm\"\n                 :rules=\"rules\"\n                 ref=\"desForm\"\n                 class=\"desForm\">\n          <el-form-item prop=\"password\">\n            <el-input size=\"small\"\n                      v-model=\"desForm.password\"\n                      :maxlength=8\n                      show-password></el-input>\n          </el-form-item>\n        </el-form>\n        <el-button type=\"primary\"\n                   size=\"small\"\n                   @click=\"saveDes\">保存</el-button>\n      </div>\n\n    </div>\n    <div class=\"key-container\"\n         v-if=\"showKey\">\n      <!-- 公钥 -->\n      <div class=\"key-item\">\n        <div class=\"key-title\">\n          <p>公钥</p>\n          <el-button size=\"mini\"\n                     @click=\"downloadKey('public')\">下载公钥</el-button>\n        </div>\n\n        <div class=\"text-box\">\n          <el-input type=\"textarea\"\n                    :rows=\"10\"\n                    placeholder=\"公钥\"\n                    v-model=\"key.publicPem\"></el-input>\n        </div>\n        <div class=\"modify\">\n          <el-button type=\"primary\"\n                     icon=\"el-icon-edit-outline\"\n                     round\n                     @click=\"modify('public.pem')\">修改公钥</el-button>\n        </div>\n      </div>\n\n      <!-- 私钥 -->\n      <div class=\"key-item\">\n        <div class=\"key-title\">\n          <p>私钥</p>\n          <el-button size=\"mini\"\n                     @click=\"downloadKey('private')\">下载私钥</el-button>\n        </div>\n        <div class=\"text-box\">\n          <el-input type=\"textarea\"\n                    :rows=\"10\"\n                    placeholder=\"私钥\"\n                    v-model=\"key.privatePem\"></el-input>\n        </div>\n        <div class=\"modify\">\n          <el-button type=\"primary\"\n                     icon=\"el-icon-edit-outline\"\n                     round\n                     @click=\"modify('private.pem')\">修改私钥</el-button>\n        </div>\n      </div>\n    </div>\n    <p class=\"no-key\"\n       v-else>暂未生成密钥</p>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      key: { publicPem: '', privatePem: '' },\n      showKey: false,\n      desForm: {\n        password: '',\n      },\n      rules: {\n        password: [\n          { required: true, message: '请输入你的des密码', trigger: 'blur' },\n          { min: 8, max: 8, message: '长度在必须为8个字符', trigger: 'blur' },\n        ],\n      },\n    }\n  },\n  created() {\n    this.getKey()\n    this.desForm.password = localStorage.getItem('des')\n  },\n  methods: {\n    saveDes() {\n      this.$refs['desForm'].validate((valid) => {\n        if (valid) {\n          localStorage.setItem('des', this.desForm.password)\n          this.$message({\n            message: 'des密码保存成功',\n            type: 'success',\n          })\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    /* 获取key */\n    getKey() {\n      this.http.get('/getkey').then((res) => {\n        console.log(res)\n        if (res.data.code === 0) {\n          this.key = res.data.data\n          this.showKey = true\n        }\n      })\n    },\n    /* 生成key */\n    generateKey() {\n      this.http.get('/generator').then((res) => {\n        console.log(res)\n        if (res.data.code === 0) {\n          this.showKey = true\n          this.key = res.data.data\n          this.$message({\n            message: res.data.msg,\n            type: 'success',\n          })\n        }\n      })\n    },\n    /* 下载 */\n    downloadKey(fileName) {\n      window.open(`http://127.0.0.1:8888/api/download/${fileName}.pem`, '_self')\n    },\n    /* 上传成功回调 */\n    handleSuccess(res) {\n      console.log(res)\n      if (res.code == 0) {\n        this.$message({\n          message: res.msg,\n          type: 'success',\n        })\n        this.getKey()\n      } else {\n        this.$message.error(res.msg)\n      }\n    },\n    /* 修改key */\n    modify(fileName) {\n      let key\n      if (fileName == 'private.pem') {\n        key = this.key.privatePem\n      } else {\n        key = this.key.publicPem\n      }\n      this.http\n        .post('/key/modify', { fileName: fileName, key: key })\n        .then((res) => {\n          if (res.data.code == 0) {\n            this.$message({\n              message: res.data.msg,\n              type: 'success',\n            })\n            this.getKey()\n          } else {\n            this.$message.error(res.data.msg)\n          }\n        })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.genarate {\n  width: 100%;\n  height: 100%;\n  background-color: #f9fafc;\n}\nh1 {\n  color: #333;\n  margin-bottom: 40px;\n}\n.key-option {\n  width: 360px;\n  display: flex;\n  justify-content: space-between;\n  p {\n    font-size: 14px;\n    color: #666;\n    margin-bottom: 10px;\n  }\n  .upload-key {\n    .upload-box {\n      width: 200px;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n}\n\nhr {\n  margin-top: 40px;\n  background-color: #aaa;\n  border: none;\n  height: 2px;\n  opacity: 0.1;\n  width: 80%;\n}\n.des-input {\n  margin-top: 20px;\n  width: 250px;\n  p {\n    font-size: 14px;\n    color: #666;\n    margin-bottom: 10px;\n  }\n  .form {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 35px;\n    .el-form-item {\n      margin-bottom: 0px;\n    }\n    .el-button {\n      margin-left: 10px;\n      height: 30px;\n      width: 100px;\n    }\n  }\n}\n.key-container {\n  margin-top: 30px;\n  display: flex;\n  justify-content: space-between;\n  .key-item {\n    width: 40%;\n    .key-title {\n      width: 150px;\n      display: flex;\n      justify-content: space-between;\n      p {\n        color: #666;\n        font-size: 18px;\n      }\n    }\n    .text-box {\n      margin-top: 20px;\n    }\n    .modify {\n      margin-top: 20px;\n    }\n  }\n}\n.no-key {\n  margin-top: 50px;\n  color: #666;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Generate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Generate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Generate.vue?vue&type=template&id=63bd6d8a&scoped=true&\"\nimport script from \"./Generate.vue?vue&type=script&lang=js&\"\nexport * from \"./Generate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Generate.vue?vue&type=style&index=0&id=63bd6d8a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63bd6d8a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}